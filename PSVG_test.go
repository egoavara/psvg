package psvg

import (
	"strings"
	"testing"
)

var src = `

M362.778,57.968
c-0.287-0.378-0.565-0.759-0.857-1.136c-6.016-7.773-12.405-14.588-19.272-20.518
	c-29.797-25.728-68.582-34.79-124.728-33.123c-48.682,1.447-100.473,9.906-134.337,39.903c-7.63,6.758-14.343,14.617-19.913,23.729
	c-0.726,1.188-1.439,2.391-2.126,3.622c-2.921,5.239-5.633,10.771-8.112,16.638c-3.476,8.224-6.49,17.108-8.95,26.793
	c-4.767,18.77-7.463,40.533-7.462,66.257c0.002,45.133,8.866,67.528,8.332,110.879c-0.035,2.846-0.11,5.782-0.231,8.821
	c-0.204,5.119-0.383,10.249-0.543,15.375c-1.653,53.107-1.062,105.862-1.499,142.036c-0.401,33.204,14.646,62.704,41.845,84.433
	c10.752,8.59,23.402,15.965,37.752,21.871c25.113,10.337,55.418,16.186,89.844,16.186c50.265,0,87.456-9.652,114.684-24.336
	c11.459-6.178,21.149-13.249,29.308-20.867c20.359-19.008,31.17-41.422,36.009-61.896c11.47-48.523,9.966-84.08,4.831-158.371
	c-0.103-1.496-0.207-3.002-0.313-4.529c-0.588-8.453-1.022-15.947-1.339-22.763c-1.733-37.343,0.064-54.317-0.479-96.937
	c-0.463-36.271-3.195-63.161-9.306-85.047
c-2.776-9.942-6.244-18.858-10.521-27.142
C371.785,70.854,367.594,64.312,362.778,57.968z
`

func TestParser(t *testing.T) {
	p := NewParser(strings.NewReader(src))
	var i = 0
	for e := p.Next(); e != nil; e = p.Next() {
		switch ei := e.(type) {
		case UnknownError:
			t.Error(ei)
		default:
			t.Log(i, "-",ei)
		}
		i ++
	}
}
